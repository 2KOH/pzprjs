/*! @license pzpr.js v3.4.0-pre (c) 2009-2014 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.createCustoms("slither",{MouseEvent:{mouseinput:function(){if(this.owner.playmode){var a=!1;this.mousestart?a=!!this.getConfig("bgcolor")&&this.inputBGcolor0():this.mousemove&&(a=!!this.getConfig("bgcolor")&&this.inputData>=10),a?this.inputBGcolor():this.btn.Left?this.mousestart||this.mousemove?this.inputLine():this.mouseend&&this.notInputted()&&(this.prevPos.reset(),this.inputpeke()):this.btn.Right&&(this.mousestart||this.mousemove)&&this.inputpeke()}else this.owner.editmode&&this.mousestart&&this.inputqnum()},inputRed:function(){this.dispRedLine()},inputBGcolor0:function(){return this.getpos(.25).oncell()},inputBGcolor:function(){var a=this.getcell();a.isnull||a===this.mouseCell||(null===this.inputData&&(this.inputData=this.btn.Left?0===a.qsub?11:1===a.qsub?12:10:0===a.qsub?12:1===a.qsub?10:11),a.setQsub(this.inputData-10),a.draw(),this.mouseCell=a)}},KeyEvent:{enablemake:!0},Cell:{maxnum:3,minnum:0,getdir4BorderLine1:function(){var a=0;return this.ub().isLine()&&a++,this.db().isLine()&&a++,this.lb().isLine()&&a++,this.rb().isLine()&&a++,a}},Board:{iscross:2,isborder:2},LineManager:{borderAsLine:!0},Flags:{redline:!0,bgcolor:!0,irowake:1},Graphic:{initialize:function(){this.Common.prototype.initialize.call(this),this.setBGCellColorFunc("qsub2")},paint:function(){this.drawBGCells(),this.drawLines(),this.drawBaseMarks(),this.drawNumbers(),this.drawPekes(),this.drawTarget()},repaintParts:function(a){this.range.crosses=a.crossinside(),this.drawBaseMarks()}},Encode:{decodePzpr:function(){this.decode4Cell()},encodePzpr:function(){this.encode4Cell()},decodeKanpen:function(){this.owner.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.owner.fio.encodeCellQnum_kanpen()}},FileIO:{decodeData:function(){1===this.filever?(this.decodeCellQnum(),this.decodeCellQsub(),this.decodeBorderLine()):0===this.filever&&(this.decodeCellQnum(),this.decodeBorderLine())},encodeData:function(){this.filever=1,this.encodeCellQnum(),this.encodeCellQsub(),this.encodeBorderLine()},kanpenOpen:function(){this.decodeCellQnum_kanpen(),this.decodeBorderLine()},kanpenSave:function(){this.encodeCellQnum_kanpen(),this.encodeBorderLine()}},AnsCheck:{checkAns:function(){return this.checkLineCount(3)?this.checkLineCount(4)?this.checkdir4BorderLine()?this.checkOneLoop()?this.checkLineCount(1)?null:"lnDeadEnd":"lnPlLoop":"nmLineNe":"lnCross":"lnBranch"},checkdir4BorderLine:function(){for(var a=!0,b=this.owner.board,c=0;c<b.cellmax;c++){var d=b.cell[c],e=d.getQnum();if(e>=0&&e!==d.getdir4BorderLine1()){if(this.checkOnly)return!1;d.seterr(1),a=!1}}return a}},FailCode:{nmLineNe:["数字の周りにある線の本数が違います。","the number is not equal to the number of lines around it."]}});