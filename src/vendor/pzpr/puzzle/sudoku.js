/*! @license pzpr.js v3.4.0-pre (c) 2009-2014 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.createCustoms("sudoku",{MouseEvent:{mouseinput:function(){this.mousestart&&this.inputqnum()}},KeyEvent:{enablemake:!0,enableplay:!0},Cell:{nummaxfunc:function(){return Math.max(this.owner.board.qcols,this.owner.board.qrows)}},Board:{qcols:9,qrows:9},Graphic:{paint:function(){this.drawBGCells(),this.drawGrid(),this.drawBlockBorders(),this.drawNumbers(),this.drawChassis(),this.drawCursor()},drawBlockBorders:function(){var a=this.vinc("border_block","crispEdges"),b=this.owner.board,c=this.lw,d=(this.lm,b.qcols),e=Math.sqrt(d)+.1|0,f=["bbx_","bby_"],g=this.range.x1,h=this.range.y1,i=this.range.x2,j=this.range.y2;g<b.minbx&&(g=b.minbx),i>b.maxbx&&(i=b.maxbx),h<b.minby&&(h=b.minby),j>b.maxby&&(j=b.maxby),a.fillStyle="black";for(var k=1;e>k;k++)k*e>=g-1&&i+1>=k*e&&this.vnop(f[0]+k,this.NONE)&&a.fillRect(k*e*this.cw-c+1,h*this.bh-c+1,c,(j-h)*this.bh+2*c-1);for(var k=1;e>k;k++)k*e>=h-1&&j+1>=k*e&&this.vnop(f[1]+k,this.NONE)&&a.fillRect(g*this.bw-c+1,k*e*this.ch-c+1,(i-g)*this.bw+2*c-1,c)}},Encode:{decodePzpr:function(){this.decodeNumber16()},encodePzpr:function(){this.encodeNumber16()},decodeKanpen:function(){this.owner.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.outsize=[this.owner.board.qcols].join("/"),this.owner.fio.encodeCellQnum_kanpen()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAnumsub()},encodeData:function(){this.sizestr=[this.owner.board.qcols].join("\n"),this.encodeCellQnum(),this.encodeCellAnumsub()},kanpenOpen:function(){this.decodeCellQnum_kanpen(),this.decodeCellAnum_kanpen()},kanpenSave:function(){this.sizestr=[this.owner.board.qcols].join("\n"),this.encodeCellQnum_kanpen(),this.encodeCellAnum_kanpen()}},AnsCheck:{checkAns:function(){return this.checkRoomNumber()?this.checkRowsColsSameNumber()?this.checkNoNumCell()?null:"ceEmpty":"nmDupRow":"bkDupNum"},check1st:function(){return this.checkNoNumCell()?null:"ceEmpty"},checkRowsColsSameNumber:function(){return this.checkRowsCols(this.isDifferentNumberInClist,function(a){return a.getNum()})},checkRoomNumber:function(){for(var a=!0,b=this.owner.board,c=b.qcols,d=Math.sqrt(c)+.1|0,e=0;c>e;e++){var f=b.cellinside(e%d*d*2+1,(e/d|0)*d*2+1,2*((e%d+1)*d-1)+1,2*((e/d+1|0)*d-1)+1);if(!this.isDifferentNumberInClist(f,function(a){return a.getNum()})){if(this.checkOnly)return!1;a=!1}}return a}},FailCode:{ceEmpty:["数字の入っていないマスがあります。","There is an empty cell."]}});