/*! @license pzpr.js v3.4.0-pre (c) 2009-2014 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.createCustoms("sukoro",{"MouseEvent@sukoro,view":{mouseinput:function(){this.mousestart&&this.inputqnum()}},"MouseEvent@sukororoom":{mouseinput:function(){this.owner.playmode?this.mousestart&&this.inputqnum():this.owner.editmode&&(this.mousestart||this.mousemove&&this.btn.Left?this.inputborder():this.mouseend&&this.notInputted()&&this.inputqnum())}},KeyEvent:{enablemake:!0,enableplay:!0,keyinput:function(a){this.key_sukoro(a)},key_sukoro:function(a){if(this.owner.playmode){var b=this.cursor.getTCC();"q"===a||"a"===a||"z"===a?a=1===b.getQsub()?"1":"s1":"w"===a||"s"===a||"x"===a?a=2===b.getQsub()?"2":"s2":"e"===a||"d"===a||"c"===a||"-"===a?a=" ":"1"===a&&1===b.getAnum()?a="s1":"2"===a&&2===b.getAnum()&&(a="s2")}this.key_inputqnum(a)}},Cell:{numberWithMB:!0,maxnum:4,getViewClist:function(){for(var a=this.bx,b=this.by,c=new this.owner.CellList,d=1;4>=d;d++)for(var e=new this.owner.Address(a,b);;){e.movedir(d,2);var f=e.getc();if(f.isnull||!f.noNum()||1===f.getQsub())break;c.add(f)}return c}},"Cell@view":{maxnum:255,minnum:0,nummaxfunc:function(){return Math.min(this.owner.board.qcols+this.owner.board.qrows-2,this.maxnum)}},"Board@view":{qcols:8,qrows:8},"Board@sukororoom":{qcols:8,qrows:8,isborder:1},AreaNumberManager:{enabled:!0},"AreaRoomManager@sukororoom":{enabled:!0},Graphic:{paint:function(){this.drawBGCells(),this.drawGrid(),"sukororoom"===this.owner.pid&&this.drawBorders(),this.drawMBs(),this.drawNumbers(),this.drawChassis(),this.drawCursor()}},"Graphic@view":{initialize:function(){this.Common.prototype.initialize.call(this),this.errbcolor2="rgb(255, 255, 127)",this.setBGCellColorFunc("error2")}},"Encode@sukoro":{decodePzpr:function(){this.decodeNumber10()},encodePzpr:function(){this.encodeNumber10()}},"Encode@view":{decodePzpr:function(){this.decodeNumber16()},encodePzpr:function(){this.encodeNumber16()}},"Encode@sukororoom":{decodePzpr:function(){this.decodeBorder(),this.decodeNumber10()},encodePzpr:function(){this.encodeBorder(),this.encodeNumber10()}},FileIO:{decodeData:function(){"sukororoom"===this.owner.pid&&this.decodeBorderQues(),this.decodeCellQnum(),this.decodeCellAnumsub()},encodeData:function(){"sukororoom"===this.owner.pid&&this.encodeBorderQues(),this.encodeCellQnum(),this.encodeCellAnumsub()}},AnsCheck:{checkAns:function(){var a=this.owner,b=a.board,c=a.pid;if("sukororoom"!==c){if(!this.checkAdjacentDiffNumber())return"nmSameNum"}else{var d=b.getRoomInfo();if(!this.checkDiffNumberInRoom(d))return"bkDupNum";if(!this.checkNumberOrNotInRoom(d))return"bkMixed"}if("view"!==c&&!this.checkDir4NumberCount())return"nmNumberNe";if("view"===c&&!this.checkViewNumber())return"nmSumViewNe";var e=b.getNumberInfo();return this.checkOneArea(e)?this.checkNoSuspendCell()?null:"ceSuspend":"nmDivide"},checkAdjacentDiffNumber:function(){return this.checkSideCell(function(a,b){return a.sameNumber(b)})},checkDiffNumberInRoom:function(a){return this.checkDifferentNumberInRoom(a,function(a){return a.getNum()})},checkNumberOrNotInRoom:function(a){return this.checkSameObjectInRoom(a,function(a){return a.isNumberObj()?1:2})},checkDir4NumberCount:function(){return this.checkDir4Cell(function(a){return a.isNumberObj()},0)},checkNoSuspendCell:function(){return this.checkAllCell(function(a){return 1===a.getQsub()})},checkViewNumber:function(){for(var a=!0,b=this.owner.board,c=0;c<b.cellmax;c++){var d=b.cell[c];if(d.isValidNum()){var e=d.getViewClist();if(d.getNum()!==e.length){if(this.checkOnly)return!1;d.seterr(1),e.seterr(2),a=!1}}}return a}},FailCode:{bkDupNum:["1つの部屋に同じ数字が複数入っています。","A room has two or more same numbers."],bkMixed:["数字のあるなしが混在した部屋があります。","A room includes both numbered and non-numbered cells."],nmNumberNe:["数字と、その数字の上下左右に入る数字の数が一致していません。","The number of numbers placed in four adjacent cells is not equal to the number."],nmSumViewNe:["数字と、他のマスにたどり着くまでのマスの数の合計が一致していません。","Sum of four-way gaps to another number is not equal to the number."],ceSuspend:["数字の入っていないマスがあります。","There is a cell that is not filled in number."]}});