<!DOCTYPE html>
<HTML lang="ja">
<HEAD>
<META CHARSET="utf-8">
<META NAME="robots" CONTENT="noindex,nofollow">
<meta name="viewport" content="width=device-width" />
<link rel="stylesheet" href="./css/sc8.css" type="text/css" />
<script type="text/javascript" src="./js/pzprv3.js"></script>
<TITLE>ぱずぷれv3</TITLE>
</HEAD>

<BODY>

<div id="main">

<h2 id="title2">読み込み中です...</h2>

<div id="menuboard" class="outofboard">
  <menu id="menupanel"></menu>
  <div id="usepanel"></div>
  <div id="checkpanel"></div>
  <hr id="separator2">
  <div id="timerpanel">経過時間：00:00</div>
</div>

<div id="quesboard">
  <div id="divques"></div>						<!-- Canvas用 -->
  <div id="btnarea" class="outofboard"></div>	<!-- Canvas下部のボタン -->
</div>

</div> <!-- div#main close. -->

<!-- フロートパネル用 -->
<div id="float_parent" class="outofboard"></div>

<!-- ポップアップメニュー(＋キーポップアップ/for_test)用 -->
<div id="popup_parent" class="outofboard">

  <div class="popup">
    <div class="titlebar">__盤面の新規作成__Createing New Board__</div>
    <form name="newboard">
      <span>__盤面を新規作成します。__Create New Board.__</span>
      <br />
      <div id="nb_size">
        <span id="nb_cols">__よこ__Cols__</span>
        <input type="number" name="col" value="1" size=4 maxlength=3 min=1 max=999 />
        <span id="nb_cols_tawa">__横幅 (黄色の数)__Width (Yellows)__</span>
        <br />
        <span id="nb_rows">__たて__Rows__</span>
        <input type="number" name="row" value="1" size=4 maxlength=3 min=1 max=999 />
        <span id="nb_rows_tawa">__高さ__Height__</span>
      </div>
      <div id="nb_size_sudoku">
        <input type="radio" name="size" id="nb_size_sudoku_0" value="0" /> 4x4<br />
        <input type="radio" name="size" id="nb_size_sudoku_1" value="1" checked /> 9x9<br />
        <input type="radio" name="size" id="nb_size_sudoku_2" value="2" /> 16x16<br />
        <input type="radio" name="size" id="nb_size_sudoku_3" value="3" /> 25x25
      </div>
      <br />
      <table id="nb_shape_tawa" border=0 cell-padding=0 cell-spaceing=2><tr>
        <td><div id="nb_shape_0"><img src="" data-button-exec="clickshape" /></div></td>
        <td><div id="nb_shape_1"><img src="" data-button-exec="clickshape" /></div></td>
        <td><div id="nb_shape_2"><img src="" data-button-exec="clickshape" /></div></td>
        <td><div id="nb_shape_3"><img src="" data-button-exec="clickshape" /></div></td>
      </tr></table>
      <input type="button" data-button-exec="execute" class="btn btn-ok" value="__新規作成__Create__" />
      <input type="button" name="close" class="btn" value="__キャンセル__Cancel__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__URL入力__Import from URL__</div>
    <form name="urlinput">
      <span>__URLから問題を読み込みます。__Import a question from URL.__</span>
      <br />
      <textarea name="ta" cols=48 rows=8 wrap="hard"></textarea>
      <br />
      <input type="button" data-button-exec="urlinput" class="btn btn-ok" value="__読み込む__Import__" />
      <input type="button" name="close" class="btn" value="__キャンセル__Cancel__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__URL出力__Export URL__</div>
    <form name="urloutput">
      <input type="button" name="pzprv3"     data-button-exec="urloutput" class="btn" value="__ぱずぷれv3のURLを出力する__Output PUZ-PRE v3 URL__" /><br />
 <!-- <input type="button" name="pzprapp"    data-button-exec="urloutput" class="btn" value="__ぱずぷれ(アプレット)のURLを出力する__Output PUZ-PRE(JavaApplet) URL__" /><br /> -->
      <input type="button" name="kanpen"     data-button-exec="urloutput" class="btn" value="__カンペンのURLを出力する__Output Kanpen URL__" /><br />
      <input type="button" name="heyaapp"    data-button-exec="urloutput" class="btn" value="__へやわけアプレットのURLを出力する__Output Heyawake-Applet URL__" /><br />
      <input type="button" name="pzprv3edit" data-button-exec="urloutput" class="btn" value="__ぱずぷれv3の再編集用URLを出力する__Output PUZ-PRE v3 Re-Edit URL__" /><br />
      <br />
      <textarea name="ta" cols=48 rows=8 wrap="hard" readonly></textarea>
      <br />
      <input type="button" data-button-exec="openurl" class="btn btn-info" value="__このURLを開く__Open this URL on another window/tab__" />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__ファイルを開く__Open File__</div>
    <form name="fileform" action="fileio.cgi" method="post" enctype="multipart/form-data" target="fileiopanel">
      <input type="hidden" name="operation" value="open" />
      <input type="hidden" name="pencilbox" value="0" />
      <span>__ファイル選択__Choose file__</span>
      <br />
      <input type="file" name="filebox" data-button-exec="fileopen" class="btn btn-info" id="filebox" value="" />
      <br />
      <input type="button" name="close" class="btn" value="__キャンセル__Cancel__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__ファイルを保存する__Save File__</div>
    <form name="filesave" action="fileio.cgi" method="post" target="fileiopanel">
      <input type="hidden" name="operation" value="save" />
      <input type="hidden" name="ques" value="" />
      <input type="hidden" name="urlstr" value="" />
      <span>__ファイル形式__File format__</span>
      <select name="filetype">
        <option value="filesave">__ぱずぷれv3形式__Puz-Pre v3 format__</option>
   <!-- <option value="filesave3">__ぱずぷれv3(履歴つき)__Puz-Pre v3 with history__</option> -->
        <option value="filesave2">__pencilbox形式__Pencilbox format__</option>
      </select>
      <br />
      <span>__ファイル名__Filename__</span>
      <input type="text" name="filename" value="" />
      <br />
      <br />
      <input type="button" data-button-exec="filesave" class="btn btn-ok" value="__保存__Save__" />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__ブラウザ保存/復帰__Browser Saved Data__</div>
    <form name="database">
      <table border=0><tr>
      <td style="padding-right:12pt;">
        <select name="sorts" data-change-exec="database_handler">
          <option value="idlist">__ID順__ID order__</option>
          <option value="newsave">__保存が新しい順__Latest Save__</option>
          <option value="oldsave">__保存が古い順__Oldest Save__</option>
          <option value="size">__サイズ/難易度順__Size, Dif. order__</option>
        </select>
        <input type="button" name="tableup" data-button-exec="database_handler" class="btn" value="__▲__Up__" />
        <input type="button" name="tabledn" data-button-exec="database_handler" class="btn" value="__▼__Down__" />
        <br />
        <select name="datalist" size=8 data-change-exec="database_handler"></select>
      </td>
      <td>
        <span>__コメント:__Comment:__</span><br />
        <textarea name="comtext" cols=28 rows=5 wrap="hard" readonly style="background-color:#dfdfdf"></textarea><br />
        <input type="button" name="comedit" data-button-exec="database_handler" class="btn" value="__コメント編集__Edit Comment__" />
        <input type="button" name="difedit" data-button-exec="database_handler" class="btn" value="__難易度設定__Set difficulty__" />
        <input type="button" name="del"     data-button-exec="database_handler" class="btn btn-danger" value="__削除__Delete__" />
        <br />
        <br />
        <input type="button" name="open" data-button-exec="database_handler" class="btn btn-info" value="__データ読み込み__Load__" />
        <input type="button" name="save" data-button-exec="database_handler" class="btn btn-info" value="__盤面保存__Save__" />
        <input type="button" name="close" class="btn" value="__閉じる__Close__" />
      </td>
      </tr></table>
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__画像を保存する__Save Image__</div>
    <form name="imagesave" action="fileio.cgi" method="post" target="fileiopanel">
      <input type="hidden" name="operation" value="imagesave" />
      <input type="hidden" name="urlstr" value="" />
      <span>__ファイル形式__File format__</span>
      <select name="filetype" data-change-exec="changefilename">
        <option value="png">__PNG形式 (png)__PNG Format (png)__</option>
        <option value="svg">__ベクター画像(SVG)__Vector Image (SVG)__</option>
      </select>
      <br />
      <span>__ファイル名__Filename__</span>
      <input type="text" name="filename" value="" />
      <br />
      <span>__画像のサイズ__Image Size__</span>
      <input type="number" name="cellsize" value="36" size=4 maxlength=3 min=8 max=999 data-change-exec="estimatesize" />
      <span id="showsize">x</span>
      <br />
      <br />
      <input type="button" data-button-exec="saveimage" class="btn btn-ok" value="__ダウンロード__Download__" />
      <input type="button" data-button-exec="openimage" class="btn btn-info" value="__別ウィンドウで開く__Open in another window__" />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__盤面の調整__Board Dimension Resizer__</div>
    <form name="adjust">
      <span>__盤面の調整を行います。__Adjust the board.__</span>
      <br />
      <span>__拡大__Expand__</span>
      <input type="button" name="expandup" data-button-exec="adjust" class="btn" value="__上__Top__" />
      <input type="button" name="expanddn" data-button-exec="adjust" class="btn" value="__下__Bottom__" />
      <span> </span>
      <input type="button" name="expandlt" data-button-exec="adjust" class="btn" value="__左__Left__" />
      <input type="button" name="expandrt" data-button-exec="adjust" class="btn" value="__右__right__" />
      <br />
      <span>__縮小__Reduce__</span>
      <input type="button" name="reduceup" data-button-exec="adjust" class="btn" value="__上__Top__" />
      <input type="button" name="reducedn" data-button-exec="adjust" class="btn" value="__下__Bottom__" />
      <span> </span>
      <input type="button" name="reducelt" data-button-exec="adjust" class="btn" value="__左__Left__" />
      <input type="button" name="reducert" data-button-exec="adjust" class="btn" value="__右__right__" />
      <br />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__反転・回転__Flip/Turn the board__</div>
    <form name="turnflip">
      <span>__盤面の回転・反転を行います。__Flip/Turn the board.__</span>
      <br />
      <input type="button" name="turnl" data-button-exec="adjust" class="btn" value="__左90°回転__Turn left by 90 degree__" />
      <input type="button" name="turnr" data-button-exec="adjust" class="btn" value="__右90°回転__Turn right by 90 degree__" />
      <br />
      <input type="button" name="flipy" data-button-exec="adjust" class="btn" value="__上下反転__Flip upside down__" />
      <input type="button" name="flipx" data-button-exec="adjust" class="btn" value="__左右反転__Flip leftside right__" />
      <br />
      <br />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__表示サイズの変更__Change size__</div>
    <form name="dispsize">
      <span>__表示サイズを変更します。__Change the display size.__</span>
      <br />
      <span>__表示サイズ__Display size__</span>
      <input type="number" name="cellsize" value="" size=4 maxlength=3 min=8 max=999 />
      <br />
      <input type="button" data-button-exec="changesize" class="btn btn-ok" value="__変更する__Change__" />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">__色の変更___Change Colors__</div>
    <form name="colors">
      <span>__黒マス (回答入力)__Shaded Cell (Answer)__</span>
      <input type="color"  data-color-target="qanscolor" data-change-exec="setcolor" value="" />
      <input type="button" data-color-target="qanscolor" data-button-exec="clearcolor" class="btn btn-warn" value="__クリア__Reset__" />
      <br />
      <input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">credit</div>
    <form name="credit">
      <span>__ぱずぷれv3__PUZ-PRE v3__</span> <%= pkg.version %>
      <br />
      <br />
      <span>__ぱずぷれv3は はっぱ/連続発破が作成しています。__PUZ-PRE v3 is made by happa.__</span>
      <br />
      <input type="button" name="close" class="btn btn-ok" value="OK" />
    </form>
  </div>

  <div class="popup">
    <div class="titlebar">pop_test</div>
    <form name="debug">
      <textarea name="testarea" id="testarea" cols=40 rows=16 wrap="off" style="font-size:10pt;"></textarea><br />
        <input type="button" data-button-exec="handler" data-debug-exec="starttest"  class="btn" value="__テスト__Test__"
      /><input type="button" data-button-exec="handler" data-debug-exec="all_test"   class="btn" value="__ALL__ALL-Test__" />
        <input type="button" data-button-exec="handler" data-debug-exec="perfeval"   class="btn" value="T1"
      /><input type="button" data-button-exec="handler" data-debug-exec="printeval"  class="btn" value="T2"
      /><input type="button" data-button-exec="handler" data-debug-exec="resizeeval" class="btn" value="T3" />
        <input type="button" data-button-exec="handler" data-debug-exec="loadperf"   class="btn" value="Perf" />
        <input type="button" data-button-exec="handler" data-debug-exec="dispdatabase" class="btn" value="DB" />
        <input type="button" data-button-exec="handler" data-debug-exec="inputcheck_popup" class="btn" value="INP" />
      <br />
        <input type="button" data-button-exec="handler" data-debug-exec="filesave"  class="btn" value="Save"
      /><input type="button" data-button-exec="handler" data-debug-exec="filesave_pencilbox" class="btn" value="PBSave" />
        <input type="button" data-button-exec="handler" data-debug-exec="fileopen"  class="btn" value="Load"
      /><input type="button" data-button-exec="handler" data-debug-exec="erasetext" class="btn" value="__消去__CLS__"
      /><input type="button" name="close" class="btn" value="__閉じる__Close__" />
    </form>
  </div>

  <div class="popup" id="keypopup" style="z-index:100;">
    <div class="titlebar" id="barkeypopup">panel</div>
    <div class="panelbase" id="panelbase1"></div>
    <div class="panelbase" id="panelbase3"></div>
  </div>

</div>

<!-- テスト用文字列出力要素 -->
<div id="testdiv" style="text-align:left;font-size:8pt;line-height:100%;">
</div>

<!-- 隠し要素 -->
<div id="hidden_element">
  <!-- ファイル入出力用インラインフレーム -->
  <iframe name="fileiopanel" id="fileiopanel" src="about:blank"></iframe>
  <!-- ファイル保存用アンカー -->
  <a id="saveanchor"></a>
</div>
<!-- ここまで -->

</BODY>
</HTML>
