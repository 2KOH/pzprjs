/*! @license pzpr.js v3.4.0 (c) 2009-2014 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
!function(){var a=pzpr.consts;pzpr.createCustoms("icebarn",{MouseEvent:{mouseinput:function(){this.owner.playmode?this.btn.Left?this.mousestart||this.mousemove?this.inputLine():this.mouseend&&this.notInputted()&&this.inputpeke():this.btn.Right&&(this.mousestart||this.mousemove)&&this.inputpeke():this.owner.editmode&&(this.mousestart||this.mousemove?this.btn.Left?this.inputarrow():this.btn.Right&&this.inputIcebarn():"icebarn"!==this.owner.pid&&this.mouseend&&this.notInputted()&&this.inputqnum())},inputRed:function(){this.dispRedLine()},inputIcebarn:function(){var a=this.getcell();if(!a.isnull&&a!==this.mouseCell){if("icebarn"!==this.owner.pid&&a.isNum())return void this.inputqnum();null===this.inputData&&(this.inputData=a.ice()?0:6),a.setQues(this.inputData),a.drawaround(),this.mouseCell=a}},inputarrow:function(){var a=this.getpos(0);if(!this.prevPos.equals(a)){var b=this.getnb(this.prevPos,a);if(!b.isnull&&!this.mousestart){var c=this.getdir(this.prevPos,a);b.id<this.owner.board.bdinside?"icebarn"===this.owner.pid&&(null===this.inputData&&(this.inputData=b.getArrow()!==c?1:0),b.setArrow(1===this.inputData?c:0)):null===this.inputData&&this.inputarrow_inout(b,c),b.draw()}this.prevPos=a}},inputarrow_inout:function(a,b){var c=this.checkinout(a,b),d=this.owner.board,e=null;1===c?(e=d.arrowin,d.inputarrowin(a)):2===c&&(e=d.arrowout,d.inputarrowout(a)),null!==e&&(e.draw(),this.mousereset())},checkinout:function(b,c){if(b.isnull)return 0;var d=this.owner.board,e=b.bx,f=b.by;return e===d.minbx&&c===a.RT||e===d.maxbx&&c===a.LT||f===d.minby&&c===a.DN||f===d.maxby&&c===a.UP?1:e===d.minbx&&c===a.LT||e===d.maxbx&&c===a.RT||f===d.minby&&c===a.UP||f===d.maxby&&c===a.DN?2:0}},"KeyEvent@icelom,icelom2":{enablemake:!0,keyinput:function(a){this.key_inputIcebarn(a)||this.key_inputqnum(a)},key_inputIcebarn:function(a){var b=this.cursor.getTCC();if("q"===a)b.getQues(b.ice()?0:6);else{if(" "!==a||!b.noNum())return!1;b.setQues(0)}return b.drawaround(),this.prev=b,!0}},Border:{getArrow:function(){return this.qdir},setArrow:function(a){this.setQdir(a)},isArrow:function(){return this.qdir>0}},"CellList@icebarn":{join:function(a){for(var b=[],c=0;c<this.length;c++)b.push(this[c].id);return b.join(a)}},Board:{qcols:8,qrows:8,hasborder:2,arrowin:null,arrowout:null,initialize:function(){this.Common.prototype.initialize.call(this),this.iceinfo=this.addInfoList(this.owner.AreaIcebarnManager)},initBoardSize:function(a,b){this.Common.prototype.initBoardSize.call(this,a,b),this.arrowin=this.border[0],this.arrowout=this.border[1],this.disableInfo(),a>=3?(this.inputarrowin(this.getb(this.minbx+1,this.minby)),this.inputarrowout(this.getb(this.minbx+5,this.minby))):(this.inputarrowin(this.getb(1,this.minby)),this.inputarrowout(this.getb(1,this.maxby))),this.enableInfo()},inputarrowin:function(a){var b=this.arrowin,c=this.arrowout;c===a?this.setarrowout(b):b.setArrow(0),this.setarrowin(a)},inputarrowout:function(a){var b=this.arrowin,c=this.arrowout;b===a?this.setarrowin(c):c.setArrow(0),this.setarrowout(a)},setarrowin:function(a){this.owner.opemgr.isenableRecord()&&this.owner.opemgr.addOpe_InOut("in",this.arrowin.bx,this.arrowin.by,a.bx,a.by),this.arrowin=a,this.setarrowin_arrow(a)},setarrowin_arrow:function(b){b.by===this.maxby?b.setArrow(a.UP):b.by===this.minby?b.setArrow(a.DN):b.bx===this.maxbx?b.setArrow(a.LT):b.bx===this.minbx&&b.setArrow(a.RT)},setarrowout:function(a){this.owner.opemgr.isenableRecord()&&this.owner.opemgr.addOpe_InOut("out",this.arrowout.bx,this.arrowout.by,a.bx,a.by),this.arrowout=a,this.setarrowout_arrow(a)},setarrowout_arrow:function(b){b.by===this.minby?b.setArrow(a.UP):b.by===this.maxby?b.setArrow(a.DN):b.bx===this.minbx?b.setArrow(a.LT):b.bx===this.maxbx&&b.setArrow(a.RT)}},BoardExec:{posinfo_in:{},posinfo_out:{},adjustBoardData:function(a,b){var c=this.owner.board;this.adjustBorderArrow(a,b),this.posinfo_in=this.getAfterPos(a,b,c.arrowin),this.posinfo_out=this.getAfterPos(a,b,c.arrowout)},adjustBoardData2:function(b){var c=this.owner.board,d=this.posinfo_in,e=this.posinfo_out;c.arrowin=c.getb(d.bx2,d.by2),c.arrowout=c.getb(e.bx2,e.by2);var f=this.owner.opemgr;b&a.REDUCE&&!f.undoExec&&!f.redoExec&&(f.forceRecord=!0,d.isdel&&(f.addOpe_InOut("in",d.bx1,d.by1,d.bx2,d.by2),c.setarrowin_arrow(c.arrowin)),e.isdel&&(f.addOpe_InOut("out",e.bx1,e.by1,e.bx2,e.by2),c.setarrowout_arrow(c.arrowout)),f.forceRecord=!1)}},"InOutOperation:Operation":{property:"",setData:function(a,b,c,d,e){this.property=a,this.bx1=b,this.by1=c,this.bx2=d,this.by2=e},decode:function(a){return"PI"!==a[0]&&"PO"!==a[0]?!1:(this.property="PI"==a[0]?"in":"out",this.bx1=+a[1],this.by1=+a[2],this.bx2=+a[3],this.by2=+a[4],!0)},toString:function(){return["in"==this.property?"PI":"PO",this.bx1,this.by1,this.bx2,this.by2].join(",")},undo:function(){this.exec(this.bx1,this.by1)},redo:function(){this.exec(this.bx2,this.by2)},exec:function(a,b){var c,d=this.owner.board,e=d.getb(a,b);"in"===this.property?(c=d.arrowin,d.arrowin=e):"out"===this.property&&(c=d.arrowout,d.arrowout=e),c.draw(),e.draw()}},OperationManager:{addOpe_InOut:function(a,b,c,d,e){this.addOpe_common(function(){var f=new this.owner.InOutOperation;return f.setData(a,b,c,d,e),f})},decodeOpe:function(a){var b=new this.owner.InOutOperation;return b.decode(a)?b:this.Common.prototype.decodeOpe.call(this,a)}},LineManager:{isCenterLine:!0,isLineCross:!0},"AreaIcebarnManager:AreaManager":{enabled:!0,relation:["cell"],isvalid:function(a){return a.ice()}},Flags:{redline:!0,irowake:!0},Graphic:{initialize:function(){this.Common.prototype.initialize.call(this),this.gridcolor=this.gridcolor_LIGHT,this.linecolor=this.linecolor_LIGHT,this.errcolor1="red","icebarn"!==this.owner.pid&&(this.fontBCellcolor=this.fontcolor),this.setBGCellColorFunc("icebarn"),this.setBorderColorFunc("ice"),this.maxYdeg=.7},paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawBorders(),this.drawLines(),this.drawPekes(),"icebarn"!==this.owner.pid&&this.drawNumbers(),this.drawBorderArrows(),this.drawChassis(),"icebarn"!==this.owner.pid&&this.drawTarget(),this.drawInOut()},getCanvasCols:function(){var a=this.owner.board,b=this.getBoardCols()+2*this.margin;return pzpr.PLAYER?((a.arrowin.bx===a.minbx||a.arrowout.bx===a.minbx)&&(b+=.7),(a.arrowin.bx===a.maxbx||a.arrowout.bx===a.maxbx)&&(b+=.7)):b+=1.4,b},getCanvasRows:function(){var a=this.owner.board,b=this.getBoardRows()+2*this.margin;return pzpr.PLAYER?((a.arrowin.by===a.minby||a.arrowout.by===a.minby)&&(b+=.7),(a.arrowin.by===a.maxby||a.arrowout.by===a.maxby)&&(b+=.7)):b+=1.4,b},getOffsetCols:function(){var a=this.owner.board,b=0;return pzpr.PLAYER&&((a.arrowin.bx===a.minbx||a.arrowout.bx===a.minbx)&&(b+=.35),(a.arrowin.bx===a.maxbx||a.arrowout.bx===a.maxbx)&&(b-=.35)),b},getOffsetRows:function(){var a=this.owner.board,b=0;return pzpr.PLAYER&&((a.arrowin.by===a.minby||a.arrowout.by===a.minby)&&(b+=.35),(a.arrowin.by===a.maxby||a.arrowout.by===a.maxby)&&(b-=.35)),b},drawBorderArrows:function(){for(var b=this.vinc("border_arrow","crispEdges"),c=.35*this.cw,d=Math.max(this.cw/36,1),e=d/2,f=["b_ar_","b_tipa_","b_tipb_"],g=this.range.borders,h=0;h<g.length;h++){var i=g[h],j=i.id,k=i.getArrow();if(this.vhide([f[0]+j,f[1]+j,f[2]+j]),k>=1&&4>=k){var l=i.bx*this.bw,m=i.by*this.bh;if(b.fillStyle=4===i.error?this.errcolor1:this.cellcolor,this.vnop(f[0]+j,this.FILL))switch(k){case a.UP:case a.DN:b.fillRect(l-e,m-c,d,2*c);break;case a.LT:case a.RT:b.fillRect(l-c,m-e,2*c,d)}if(this.vnop(f[(k+1&1)+1]+j,this.FILL)){switch(k){case a.UP:b.setOffsetLinePath(l,m,0,-c,-c/2,.4*-c,c/2,.4*-c,!0);break;case a.DN:b.setOffsetLinePath(l,m,0,+c,-c/2,.4*c,c/2,.4*c,!0);break;case a.LT:b.setOffsetLinePath(l,m,-c,0,.4*-c,-c/2,.4*-c,c/2,!0);break;case a.RT:b.setOffsetLinePath(l,m,c,0,.4*c,-c/2,.4*c,c/2,!0)}b.fill()}}}},drawInOut:function(){var a,b=this.context,c=this.owner.board;if(a=c.arrowin,a.id>=c.bdinside&&a.id<c.bdmax){b.fillStyle=4===a.error?this.errcolor1:this.cellcolor;var d=a.bx,e=a.by,f=d*this.bw,g=e*this.bh;e===c.minby?this.dispnum("string_in",1,"IN",.55,"black",f,g-.6*this.ch):e===c.maxby?this.dispnum("string_in",1,"IN",.55,"black",f,g+.6*this.ch):d===c.minbx?this.dispnum("string_in",1,"IN",.55,"black",f-.5*this.cw,g-.3*this.ch):d===c.maxbx&&this.dispnum("string_in",1,"IN",.55,"black",f+.5*this.cw,g-.3*this.ch)}if(a=c.arrowout,a.id>=c.bdinside&&a.id<c.bdmax){b.fillStyle=4===a.error?this.errcolor1:this.cellcolor;var d=a.bx,e=a.by,f=d*this.bw,g=e*this.bh;e===c.minby?this.dispnum("string_out",1,"OUT",.55,"black",f,g-.6*this.ch):e===c.maxby?this.dispnum("string_out",1,"OUT",.55,"black",f,g+.6*this.ch):d===c.minbx?this.dispnum("string_out",1,"OUT",.55,"black",f-.7*this.cw,g-.3*this.ch):d===c.maxbx&&this.dispnum("string_out",1,"OUT",.55,"black",f+.7*this.cw,g-.3*this.ch)}},repaintParts:function(a){this.range.borders=a,this.drawBorderArrows()}},"Encode@icebarn":{decodePzpr:function(b){b===a.URL_PZPRV3?this.decodeIcebarn():b===a.URL_PZPRAPP&&(this.checkpflag("c")?this.decodeIcebarn_old2():this.decodeIcebarn_old1())},encodePzpr:function(b){return b===a.URL_PZPRV3?this.encodeIcebarn():b===a.URL_PZPRAPP?this.encodeIcebarn_old1():void 0},decodeIcebarn:function(){for(var b=this.outbstr.split("/"),c=0,d=0,e=this.owner.board,f=[16,8,4,2,1],g=0;g<b[0].length;g++){for(var h=parseInt(b[0].charAt(g),32),i=0;5>i;i++)d<e.cellmax&&(e.cell[d].ques=h&f[i]?6:0,d++);if(d>=e.cellmax){c=g+1;break}}e.disableInfo();for(var j=0,g=c;g<b[0].length;g++){var k=b[0].charAt(g);if("z"!==k?(j+=parseInt(k,36),j<e.bdinside&&e.border[j].setArrow(e.border[j].isHorz()?a.UP:a.LT),j++):j+=35,j>=e.bdinside){c=g+1;break}}j=0;for(var g=c;g<b[0].length;g++){var k=b[0].charAt(g);if("z"!==k?(j+=parseInt(k,36),j<e.bdinside&&e.border[j].setArrow(e.border[j].isHorz()?a.DN:a.RT),j++):j+=35,j>=e.bdinside)break}e.inputarrowin(e.border[parseInt(b[1])+e.bdinside]),e.inputarrowout(e.border[parseInt(b[2])+e.bdinside]),e.enableInfo(),this.outbstr=""},encodeIcebarn:function(){for(var b="",c=0,d=0,e=this.owner.board,f=[16,8,4,2,1],g=0;g<e.cellmax;g++)6===e.cell[g].ques&&(d+=f[c]),c++,5==c&&(b+=d.toString(32),c=0,d=0);c>0&&(b+=d.toString(32)),c=0;for(var h=0;h<e.bdinside;h++){var i=e.border[h].getArrow();i===a.UP||i===a.LT?(b+=c.toString(36),c=0):(c++,c>=35&&(b+="z",c=0))}c>0&&(b+=c.toString(36)),c=0;for(var h=0;h<e.bdinside;h++){var i=e.border[h].getArrow();i===a.DN||i===a.RT?(b+=c.toString(36),c=0):(c++,c>=35&&(b+="z",c=0))}c>0&&(b+=c.toString(36)),b+="/"+(e.arrowin.id-e.bdinside)+"/"+(e.arrowout.id-e.bdinside),this.outbstr+=b},decodeIcebarn_old2:function(){for(var b=this.outbstr.split("/"),c=0,d=0,e=this.owner.board,f=[16,8,4,2,1],g=0;g<b[0].length;g++){for(var h=parseInt(b[0].charAt(g),32),i=0;5>i;i++)d<e.cellmax&&(e.cell[d].ques=h&f[i]?6:0,d++);if(d>=e.cellmax){c=g+1;break}}e.disableInfo();for(var j=0,g=c;g<b[2].length;g++){var k=b[2].charAt(g);if(k>="0"&&"9">=k){var h=parseInt(k);e.border[j].setArrow(1&h?a.UP:a.DN),j+=(h>>1)+1}else if(k>="a"&&"z">=k){var h=parseInt(k,36);j+=h-9}else j++;if(j>=(e.qcols-1)*e.qrows){c=g+1;break}}j=(e.qcols-1)*e.qrows;for(var g=c;g<b[2].length;g++){var k=b[2].charAt(g);if(k>="0"&&"9">=k){var h=parseInt(k);e.border[j].setArrow(1&h?a.LT:a.RT),j+=(h>>1)+1}else if(k>="a"&&"z">=k){var h=parseInt(k,36);j+=h-9}else j++;if(j>=e.bdinside)break}e.inputarrowin(e.border[parseInt(b[0])+e.bdinside]),e.inputarrowout(e.border[parseInt(b[1])+e.bdinside]),e.enableInfo(),this.outbstr=""},decodeIcebarn_old1:function(){for(var b=this.outbstr.split("/"),c=0,d=this.owner.board,e=[8,4,2,1],f=0;f<b[0].length;f++){for(var g=parseInt(b[0].charAt(f),32),h=0;4>h;h++)c<d.cellmax&&(d.cell[c].ques=g&e[h]?6:0,c++);if(c>=d.cellmax)break}if(d.disableInfo(),""!=b[1])for(var i=b[1].split("+"),f=0;f<i.length;f++)d.cell[i[f]].db().setArrow(a.UP);if(""!=b[2])for(var i=b[2].split("+"),f=0;f<i.length;f++)d.cell[i[f]].db().setArrow(a.DN);if(""!=b[3])for(var i=b[3].split("+"),f=0;f<i.length;f++)d.cell[i[f]].rb().setArrow(a.LT);if(""!=b[4])for(var i=b[4].split("+"),f=0;f<i.length;f++)d.cell[i[f]].rb().setArrow(a.RT);d.inputarrowin(d.border[parseInt(b[5])+d.bdinside]),d.inputarrowout(d.border[parseInt(b[6])+d.bdinside]),d.enableInfo(),this.outbstr=""},encodeIcebarn_old1:function(){for(var b="",c=0,d=0,e=this.owner.board,f=[8,4,2,1],g=0;g<e.cellmax;g++)6===e.cell[g].ques&&(d+=f[c]),c++,4===c&&(b+=d.toString(16),c=0,d=0);c>0&&(b+=d.toString(16)),b+="/",b+=e.cell.filter(function(b){return b.db().getArrow()===a.UP}).join("+")+"/",b+=e.cell.filter(function(b){return b.db().getArrow()===a.DN}).join("+")+"/",b+=e.cell.filter(function(b){return b.rb().getArrow()===a.LT}).join("+")+"/",b+=e.cell.filter(function(b){return b.rb().getArrow()===a.RT}).join("+")+"/",b+=e.arrowin.id-e.bdinside+"/"+(e.arrowout.id-e.bdinside),this.outbstr+=b}},"Encode@icelom,icelom2":{decodePzpr:function(){this.decodeIcelom(),this.decodeNumber16(),this.decodeInOut(),"icelom"===this.owner.pid&&(this.owner.pid=this.checkpflag("a")?"icelom":"icelom2")},encodePzpr:function(){this.encodeIcelom(),this.encodeNumber16(),this.encodeInOut(),"icelom"===this.owner.pid&&(this.outpflag="a")},decodeIcelom:function(){for(var a=this.outbstr,b=0,c=0,d=this.owner.board,e=[16,8,4,2,1],f=0;f<a.length;f++){for(var g=parseInt(a.charAt(f),32),h=0;5>h;h++)c<d.cellmax&&(d.cell[c].ques=g&e[h]?6:0,c++);if(c>=d.cellmax){b=f+1;break}}this.outbstr=a.substr(b)},encodeIcelom:function(){for(var a="",b=0,c=0,d=this.owner.board,e=[16,8,4,2,1],f=0;f<d.cellmax;f++)6===d.cell[f].ques&&(c+=e[b]),b++,5==b&&(a+=c.toString(32),b=0,c=0);b>0&&(a+=c.toString(32)),this.outbstr+=a},decodeInOut:function(){var a=this.outbstr.substr(1).split("/"),b=this.owner.board;b.disableInfo(),b.inputarrowin(b.border[parseInt(a[0])+b.bdinside]),b.inputarrowout(b.border[parseInt(a[1])+b.bdinside]),b.enableInfo(),this.outbstr=""},encodeInOut:function(){var a=this.owner.board;this.outbstr+="/"+(a.arrowin.id-a.bdinside)+"/"+(a.arrowout.id-a.bdinside)}},"FileIO@icebarn":{decodeData:function(){var b=this.owner.board;b.disableInfo(),b.inputarrowin(b.border[parseInt(this.readLine())]),b.inputarrowout(b.border[parseInt(this.readLine())]),b.enableInfo(),this.decodeCell(function(a,b){"1"===b&&(a.ques=6)}),b.disableInfo(),this.decodeBorder(function(b,c){if("0"!==c){var d=parseInt(c),e=b.isVert();1!==d||e||b.setArrow(a.UP),2!==d||e||b.setArrow(a.DN),1===d&&e&&b.setArrow(a.LT),2===d&&e&&b.setArrow(a.RT)}}),b.enableInfo(),this.decodeBorder(function(a,b){"1"===b?a.line=1:"-1"===b&&(a.qsub=2)})},encodeData:function(){var b=this.owner.board;this.datastr+=b.arrowin.id+"\n"+b.arrowout.id+"\n",this.encodeCell(function(a){return 6===a.ques?"1 ":"0 "}),this.encodeBorder(function(b){var c=b.getArrow();return c===a.UP||c===a.LT?"1 ":c===a.DN||c===a.RT?"2 ":"0 "}),this.encodeBorder(function(a){return 1===a.line?"1 ":2===a.qsub?"-1 ":"0 "})}},"FileIO@icelom,icelom2":{decodeData:function(){var a=this.owner.board;a.inputarrowin(a.border[parseInt(this.readLine())]),a.inputarrowout(a.border[parseInt(this.readLine())]);var b=this.readLine();"icelom"===this.owner.pid&&(this.owner.pid="allwhite"===b?"icelom":"icelom2"),this.decodeCell(function(a,b){"i"===b.charAt(0)&&(a.ques=6,b=b.substr(1)),""!==b&&"."!==b&&(a.qnum="?"!==b?parseInt(b):-2)}),this.decodeBorder(function(a,b){"1"===b?a.line=1:"-1"===b&&(a.qsub=2)})},encodeData:function(){var a=this.owner.board,b="icelom"===this.owner.pid?"allwhite":"skipwhite";this.datastr+=a.arrowin.id+"\n"+a.arrowout.id+"\n"+b+"\n",this.encodeCell(function(a){var b=6===a.ques?"i":"",c="";return c=-1===a.qnum?""===b?". ":" ":-2===a.qnum?"? ":a.qnum+" ",b+c}),this.encodeBorder(function(a){return 1===a.line?"1 ":2===a.qsub?"-1 ":"0 "})}},AnsCheck:{checkAns:function(){var a=this.owner.pid;if(!this.checkLineCount(3))return"lnBranch";if(!this.checkCrossOutOfIce())return"lnCrossExIce";if(!this.checkIceLines())return"lnCurveOnIce";var b=this.checkLine();return-1==b?"stInvalid":1==b?"stNotLine":2==b?"stDeadEnd":3==b?"stOffField":"icebarn"===a&&4==b?"awInverse":"icebarn"!==a&&5==b?"nmOrder":this.checkOneLoop()?"icelom"!==a||this.checkUnreachedWhiteCell()?"icelom"===a||this.checkIgnoreIcebarn()?"icebarn"!==a||this.checkAllArrow()?"icebarn"===a||this.checkNoLineNumber()?this.checkLineCount(1)?null:"lnDeadEnd":"nmUnpass":"lnExArrow":"bkNoLine":"ceEmpty":"lnPlLoop"},checkCrossOutOfIce:function(){return this.checkAllCell(function(a){return 4===a.lcnt()&&!a.ice()})},checkUnreachedWhiteCell:function(){return this.checkAllCell(function(a){return 0===a.lcnt()&&!a.ice()})},checkIgnoreIcebarn:function(){return this.checkLinesInArea(this.owner.board.iceinfo.getAreaInfo(),function(a,b,c){return 0!=c})},checkNoLineNumber:function(){return this.checkAllCell(function(a){return 0===a.lcnt()&&a.isNum()})},checkAllArrow:function(){for(var a=!0,b=this.owner.board,c=0;c<b.bdmax;c++){var d=b.border[c];if(d.isArrow()&&!d.isLine()){if(this.checkOnly)return!1;d.seterr(4),a=!1}}return a},checkLine:function(){var a=this.owner.board,b=a.arrowin.getaddr(),c=0,d=1;if(b.by===a.minby?c=2:b.by===a.maxby?c=1:b.bx===a.minbx?c=4:b.bx===a.maxbx&&(c=3),0==c)return-1;if(!a.arrowin.isLine())return a.arrowin.seterr(4),1;for(a.border.seterr(-1),a.arrowin.seterr(1);;)if(b.movedir(c,1),b.oncell()){var e=b.getc();if(e.isnull)continue;if(e.ice()||(2!==e.lcnt()?c=c:1!=c&&e.db().isLine()?c=2:2!=c&&e.ub().isLine()?c=1:3!=c&&e.rb().isLine()?c=4:4!=c&&e.lb().isLine()&&(c=3)),"icebarn"!==this.owner.pid){var f=e.getNum();if(-1===f)continue;if(-2!==f&&f!==d)return e.seterr(1),5;d++}}else{var g=b.getb();if(g.seterr(1),!g.isLine())return 2;if(a.arrowout===g)break;if(g.id>=a.bdinside)return 3;if(c===[0,2,1,4,3][g.getArrow()])return 4}return a.border.seterr(0),0}},FailCode:{bkNoLine:["すべてのアイスバーンを通っていません。","A icebarn is not gone through."],lnPlLoop:["線がひとつながりではありません。","Lines are not countinuous."],lnExArrow:["線が通っていない矢印があります。","A line doesn't go through some arrows."],nmOrder:["数字の通過順が間違っています。","A line goes through an arrow reverse."],nmUnpass:["通過していない数字があります。","The line doesn't pass all of the number."],stInvalid:["スタート位置を特定できませんでした。","System can't detect start position."],stNotLine:["INに線が通っていません。","The line doesn't go through the 'IN' arrow."],stDeadEnd:["途中で途切れている線があります。","There is a dead-end line."],stOffField:["盤面の外に出てしまった線があります","A line is not reached out the 'OUT' arrow."],awInverse:["矢印を逆に通っています。","A line goes through an arrow reverse."],ceEmpty:["通過していない白マスがあります。","The line doesn't pass all of the white cell."]}})}();