/*! @license pzpr.js v3.4.0 (c) 2009-2014 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.createCustoms("renban",{MouseEvent:{mouseinput:function(){this.owner.playmode?this.mousestart&&this.inputqnum():this.owner.editmode&&(this.mousestart||this.mousemove?this.btn.Left?this.inputborder():this.btn.Right&&this.inputQsubLine():this.mouseend&&this.notInputted()&&this.inputqnum())}},KeyEvent:{enablemake:!0,enableplay:!0},Board:{qcols:6,qrows:6,hasborder:1,getBorderLengthInfo:function(){for(var a=new this.owner.BorderInfo,b=0;b<this.bdmax;b++)a.id[b]=this.border[b].isBorder()?0:null;for(var b=0;b<this.bdmax;b++){var c=this.border[b];if(a.emptyBorder(c)){for(var d=c.getaddr(),e=c.isVert(),f=[];;){var g=d.getb();if(g.isnull||!a.emptyBorder(g))break;f.push(g),e?d.move(0,2):d.move(2,0)}a.addRoom();for(var h=0;h<f.length;h++)a.addBorder(f[h])}}return a}},AreaRoomManager:{enabled:!0},"BorderInfo:LineInfo":{},Graphic:{initialize:function(){this.Common.prototype.initialize.call(this),this.gridcolor=this.gridcolor_DLIGHT,this.borderQsubcolor=this.borderQuescolor},paint:function(){this.drawBGCells(),this.drawGrid(),this.drawNumbers(),this.drawBorders(),this.drawBorderQsubs(),this.drawChassis(),this.drawCursor()},getBorderColor:function(a){return 1===a.ques?1===a.error?this.errcolor1:this.borderQuescolor:null}},Encode:{decodePzpr:function(){this.decodeBorder(),this.decodeNumber16()},encodePzpr:function(){this.encodeBorder(),this.encodeNumber16()}},FileIO:{decodeData:function(){this.decodeBorderQues(),this.decodeCellQnum(),this.decodeCellAnumsub()},encodeData:function(){this.encodeBorderQues(),this.encodeCellQnum(),this.encodeCellAnumsub()}},AnsCheck:{checkAns:function(){var a=this.owner.board.getRoomInfo();return this.checkDiffNumberInRoom(a)?this.checkNumbersInRoom(a)?this.checkBorderSideNumber()?this.checkNoNumCell()?null:"ceEmpty":"scDiffLenNe":"bkNotSeqNum":"bkDupNum"},check1st:function(){return this.checkNoNumCell()?null:"ceEmpty"},checkDiffNumberInRoom:function(a){return this.checkDifferentNumberInRoom(a,function(a){return a.getNum()})},checkNumbersInRoom:function(a){for(var b=!0,c=1;c<=a.max;c++){var d=a.room[c].clist;if(!(d.length<=1)){for(var e=-1,f=d[0].maxnum,g=!1,h=0,i=d.length;i>h;h++){var j=d[h].getNum();if(-1===j||-2===j){g=!0;break}j>e&&(e=j),f>j&&(f=j)}if(g)break;if(d.length!==e-f+1){if(this.checkOnly)return!1;d.seterr(1),b=!1}}}return b},checkBorderSideNumber:function(){for(var a=!0,b=this.owner.board,c=b.getBorderLengthInfo(),d=0;d<b.bdmax;d++)if(null!==c.id[d]){var e=b.border[d],f=e.sidecell[0],g=e.sidecell[1],h=f.getNum(),i=g.getNum();if(!(0>=h||0>=i)){var j=c.getblist(c.id[d]);if(Math.abs(h-i)!==j.length){if(this.checkOnly)return!1;f.seterr(1),g.seterr(1),j.seterr(1),a=!1}}}return a}},FailCode:{bkDupNum:["1つの部屋に同じ数字が複数入っています。","A room has two or more same numbers."],bkNotSeqNum:["部屋に入る数字が正しくありません。","The numbers in the room are wrong."],scDiffLenNe:["数字の差がその間にある線の長さと等しくありません。","The differnece between two numbers is not equal to the length of the line between them."],ceEmpty:["数字の入っていないマスがあります。","There is an empty cell."]}});