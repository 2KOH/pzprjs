/*! @license pzpr.js v3.4.0 (c) 2009-2014 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.createCustoms("kurodoko",{MouseEvent:{RBBlackCell:!0,mouseinput:function(){this.owner.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.owner.editmode&&this.mousestart&&this.inputqnum()},inputRed:function(){this.dispRed()}},KeyEvent:{enablemake:!0},Cell:{numberIsWhite:!0,nummaxfunc:function(){return this.owner.board.qcols+this.owner.board.qrows-1},minnum:2},Board:{qcols:9,qrows:9},AreaWhiteManager:{enabled:!0},Flags:{use:!0,redblkrb:!0},Graphic:{hideHatena:!0,initialize:function(){this.Common.prototype.initialize.call(this),this.gridcolor=this.gridcolor_DLIGHT,this.bcolor=this.bcolor_GREEN,this.setBGCellColorFunc("qsub1"),this.fontsizeratio=.85,this.circleratio=[.45,.4]},paint:function(){this.drawBGCells(),this.drawGrid(),this.drawBlackCells(),this.drawCircles(),this.drawNumbers(),this.drawChassis(),this.drawTarget()}},Encode:{decodePzpr:function(){this.decodeNumber16()},encodePzpr:function(){this.encodeNumber16()},decodeKanpen:function(){this.owner.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.owner.fio.encodeCellQnum_kanpen()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeCellAns()},encodeData:function(){this.encodeCellQnum(),this.encodeCellAns()},kanpenOpen:function(){this.decodeCellQnumAns_kanpen()},kanpenSave:function(){this.encodeCellQnumAns_kanpen()}},AnsCheck:{checkAns:function(){if(!this.checkAdjacentBlackCell())return"bcAdjacent";var a=this.owner.board.getWCellInfo();return this.checkRBBlackCell(a)?this.checkCellNumber()?null:"nmSumViewNe":"wcDivideRB"},checkCellNumber:function(){for(var a=!0,b=this.owner.board,c=0;c<b.cellmax;c++){var d=b.cell[c];if(d.isValidNum()){var e,f=new this.owner.CellList;for(f.add(d),e=d.lt();!e.isnull&&e.isWhite();)f.add(e),e=e.lt();for(e=d.rt();!e.isnull&&e.isWhite();)f.add(e),e=e.rt();for(e=d.up();!e.isnull&&e.isWhite();)f.add(e),e=e.up();for(e=d.dn();!e.isnull&&e.isWhite();)f.add(e),e=e.dn();if(d.getQnum()!==f.length){if(this.checkOnly)return!1;f.seterr(1),a=!1}}}return a}},FailCode:{nmSumViewNe:["数字と黒マスにぶつかるまでの4方向のマスの合計が違います。","The number and the sum of the coutinuous white cells of four direction is different."]}});